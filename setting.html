<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PalWorld Settings Generator</title>
    <link rel="stylesheet" href="styles.css"> <!-- 引入外部樣式表 -->
    <script src="generateSettings.js"></script>
    <script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</head>
<body>
    <button class="button2" onclick="toggleSnowMode()">切換主題</button>
    <button class="button" onclick="generateSettings()">複製到剪貼簿</button>
    <button class="button3" onclick="SaveSettings()">下載到設定檔</button>
    <div class="iamfine">
        <textarea id="configField" name="configField" rows="5" cols="10" placeholder="貼上設定"></textarea>
        <button onclick="parseConfig()">讀取</button>
    </div>
    <div id="container" class="contentner">
    <img src="R.gif" alt="down" class="small-gif">
    <div id="google_translate_element"></div>
    <h1>🌺幻獸帕魯設定產生器🌺</h1>
    <h1>PalWorld Settings Generator</h1>
    <h2>Server Version 0.1.2.0</h2>
    <h3> - by PalWorld Fans</h3>
    <h3>Ver 1.2</h3>
    <div class="center-container">
        <!-- 單純的超連結 -->
        <a href="https://github.com/DysonCheng/PalWorldSettingGenerator" target="_blank">參觀Github頁面</a><br>
        <a href="https://forum.gamer.com.tw/Co.php?bsn=71458&sn=1165" target="_blank">更新訊息(Gamer.com.tw)</a>
    </div>
    <form id="settingsForm">
        <table>
            <tr>
                <th>說明</th>
                <th>變數名稱</th>
                <th>文字欄位</th>
            </tr>
            <tr>
                <!-- 跨列至三欄，置中 -->
                <td colspan="3" style="text-align: center; font-weight: bold;">
                    <strong>遊戲設定</strong>
                </td>
            </tr>
            <tr>
                <td>難度</td>
                <td translate="no">Difficulty</td>
                <td>
                    <select id="Difficulty" name="Difficulty">
                        <option value="None">None</option>
                        <option value="Easy">Easy</option>
                        <option value="Difficult">Difficult</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>日間時間加速率</td>
                <td translate="no">DayTimeSpeedRate</td>
                <td><input type="number" id="DayTimeSpeedRate" name="DayTimeSpeedRate" value="1.000000" step="0.1" min="0"></td>
            </tr>
            <tr>
                <td>夜間時間加速率</td>
                <td translate="no">NightTimeSpeedRate</td>
                <td><input type="number" id="NightTimeSpeedRate" name="NightTimeSpeedRate" value="1.000000" step="0.1" min="0"></td>
            </tr>
            <tr>
                <!-- 跨列至三欄，置中 -->
                <td colspan="3" style="text-align: center; font-weight: bold;">
                    <strong>角色、幻獸、採集設定</strong>
                </td>
            </tr>
            <tr>
                <td>經驗值加成率</td>
                <td translate="no">ExpRate</td>
                <td><input type="number" id="ExpRate" name="ExpRate" value="1.000000" step="0.1" min="0" step="0.1" min="0"></td>
            </tr>
            <tr>
                <td>寵物捕捉率</td>
                <td translate="no">PalCaptureRate</td>
                <td><input type="number" id="PalCaptureRate" name="PalCaptureRate" value="1.000000" step="0.1" min="0"></td>
            </tr>
            <tr>
                <td>寵物生成數量加成率</td>
                <td translate="no">PalSpawnNumRate</td>
                <td><input type="number" id="PalSpawnNumRate" name="PalSpawnNumRate" value="1.000000" step="0.1" min="0"></td>
            </tr>
            <tr>
                <td>寵物攻擊傷害加成率</td>
                <td translate="no">PalDamageRateAttack</td>
                <td><input type="number" id="PalDamageRateAttack" name="PalDamageRateAttack" value="1.000000" step="0.1" min="0"></td>
            </tr>
            <tr>
                <td>寵物防禦傷害減免率</td>
                <td translate="no">PalDamageRateDefense</td>
                <td><input type="number" id="PalDamageRateDefense" name="PalDamageRateDefense" value="1.000000" step="0.1" min="0"></td>
            </tr>
            <tr>
                <td>玩家攻擊傷害加成率</td>
                <td translate="no">PlayerDamageRateAttack</td>
                <td><input type="number" id="PlayerDamageRateAttack" name="PlayerDamageRateAttack" value="1.000000" step="0.1" min="0"></td>
            </tr>    
            <tr>
                <td>玩家防禦傷害減免率</td>
                <td translate="no">PlayerDamageRateDefense</td>
                <td><input type="number" id="PlayerDamageRateDefense" name="PlayerDamageRateDefense" value="1.000000" step="0.1" min="0"></td>
            </tr>
            <tr>
                <td>玩家胃口下降率</td>
                <td translate="no">PlayerStomachDecreaceRate</td>
                <td><input type="number" id="PlayerStomachDecreaceRate" name="PlayerStomachDecreaceRate" value="1.000000" step="0.1" min="0"></td>
            </tr>
            <tr>
                <td>玩家耐力下降率</td>
                <td translate="no">PlayerStaminaDecreaceRate</td>
                <td><input type="number" id="PlayerStaminaDecreaceRate" name="PlayerStaminaDecreaceRate" value="1.000000" step="0.1" min="0"></td>
            </tr>
            <tr>
                <td>玩家自動生命恢復率</td>
                <td translate="no">PlayerAutoHPRegeneRate</td>
                <td><input type="number" id="PlayerAutoHPRegeneRate" name="PlayerAutoHPRegeneRate" value="1.000000" step="0.1" min="0"></td>
            </tr>
            <tr>
                <td>玩家睡眠中自動生命恢復率</td>
                <td translate="no">PlayerAutoHpRegeneRateInSleep</td>
                <td><input type="number" id="PlayerAutoHpRegeneRateInSleep" name="PlayerAutoHpRegeneRateInSleep" value="1.000000" step="0.1" min="0"></td>
            </tr>
            <tr>
                <td>寵物胃口下降率</td>
                <td translate="no">PalStomachDecreaceRate</td>
                <td><input type="number" id="PalStomachDecreaceRate" name="PalStomachDecreaceRate" value="1.000000" step="0.1" min="0"></td>
            </tr>
            <tr>
                <td>寵物耐力下降率</td>
                <td translate="no">PalStaminaDecreaceRate</td>
                <td><input type="number" id="PalStaminaDecreaceRate" name="PalStaminaDecreaceRate" value="1.000000" step="0.1" min="0"></td>
            </tr>
            <tr>
                <td>寵物自動生命恢復率</td>
                <td translate="no">PalAutoHPRegeneRate</td>
                <td><input type="number" id="PalAutoHPRegeneRate" name="PalAutoHPRegeneRate" value="1.000000" step="0.1" min="0"></td>
            </tr>
            <tr>
                <td>寵物睡眠中自動生命恢復率</td>
                <td translate="no">PalAutoHpRegeneRateInSleep</td>
                <td><input type="number" id="PalAutoHpRegeneRateInSleep" name="PalAutoHpRegeneRateInSleep" value="1.000000" step="0.1" min="0"></td>
            </tr>
            <tr>
                <td>建築物傷害率</td>
                <td translate="no">BuildObjectDamageRate</td>
                <td><input type="number" id="BuildObjectDamageRate" name="BuildObjectDamageRate" value="1.000000" step="0.1" min="0"></td>
            </tr>
            <tr>
                <td>建築物劣化傷害率</td>
                <td translate="no">BuildObjectDeteriorationDamageRate</td>
                <td><input type="number" id="BuildObjectDeteriorationDamageRate" name="BuildObjectDeteriorationDamageRate" value="1.000000" step="0.1" min="0"></td>
            </tr>
            <tr>
                <td>掉落物品率</td>
                <td translate="no">CollectionDropRate</td>
                <td><input type="number" id="CollectionDropRate" name="CollectionDropRate" value="1.000000" step="0.1" min="0"></td>
            </tr>
            <tr>
                <td>收藏物品生命值率</td>
                <td translate="no">CollectionObjectHpRate</td>
                <td><input type="number" id="CollectionObjectHpRate" name="CollectionObjectHpRate" value="1.000000" step="0.1" min="0"></td>
            </tr>
            <tr>
                <td>收藏物品重生速率</td>
                <td translate="no">CollectionObjectRespawnSpeedRate</td>
                <td><input type="number" id="CollectionObjectRespawnSpeedRate" name="CollectionObjectRespawnSpeedRate" value="1.000000" step="0.1" min="0"></td>
            </tr>
            <tr>
                <td>敵人掉落物品率</td>
                <td translate="no">EnemyDropItemRate</td>
                <td><input type="number" id="EnemyDropItemRate" name="EnemyDropItemRate" value="1.000000" step="0.1" min="0"></td>
            </tr>
            <tr>
                <td>死亡懲罰</td>
                <td translate="no">DeathPenalty</td>
                <td>
                    <select id="DeathPenalty" name="DeathPenalty">
                        <option value="None">None完全不掉</option>
                        <option value="Item">Item掉落道具</option>
                        <option value="ItemAndEquipment">ItemAndEquipment掉落道具與裝備</option>
                        <option value="All" selected>All掉落全部(Pals)</option>
                    </select>
                </td>
            </tr>            
            
            <tr>
                <!-- 跨列至三欄，置中 -->
                <td colspan="3" style="text-align: center; font-weight: bold;">
                    <strong>伺服器設定</strong>
                </td>
            </tr>
            <tr>
                <td>允許玩家對玩家造成傷害</td>
                <td translate="no">bEnablePlayerToPlayerDamage</td>
                <td>
                    <select id="bEnablePlayerToPlayerDamage" name="bEnablePlayerToPlayerDamage">
                        <option value="True">True</option>
                        <option value="False" selected>False</option>
                    </select>
                </td>
            </tr>
            <!-- 允許友好火力 -->
            <tr>
                <td>允許友好火力</td>
                <td translate="no">bEnableFriendlyFire</td>
                <td>
                    <select id="bEnableFriendlyFire" name="bEnableFriendlyFire">
                        <option value="True">True</option>
                        <option value="False" selected>False</option>
                    </select>
                </td>
            </tr>
            <!-- 允許侵略者敵人 -->
            <tr>
                <td>允許侵略者敵人</td>
                <td translate="no">bEnableInvaderEnemy</td>
                <td>
                    <select id="bEnableInvaderEnemy" name="bEnableInvaderEnemy">
                        <option value="True" selected>True</option>
                        <option value="False">False</option>
                    </select>
                </td>
            </tr>
            <!-- 啟用UNKO -->
            <tr>
                <td>啟用UNKO</td>
                <td translate="no">bActiveUNKO</td>
                <td>
                    <select id="bActiveUNKO" name="bActiveUNKO">
                        <option value="True">True</option>
                        <option value="False" selected>False</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>啟用手柄瞄準輔助</td>
                <td translate="no">bEnableAimAssistPad</td>
                <td>
                    <select id="bEnableAimAssistPad" name="bEnableAimAssistPad">
                        <option value="True" selected>True</option>
                        <option value="False">False</option>
                    </select>
                </td>
            </tr>
            <!-- 啟用鍵盤瞄準輔助 -->
            <tr>
                <td>啟用鍵盤瞄準輔助</td>
                <td translate="no">bEnableAimAssistKeyboard</td>
                <td>
                    <select id="bEnableAimAssistKeyboard" name="bEnableAimAssistKeyboard">
                        <option value="True">True</option>
                        <option value="False" selected>False</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>掉落物品最大數量</td>
                <td translate="no">DropItemMaxNum</td>
                <td><input type="number" id="DropItemMaxNum" name="DropItemMaxNum" value="3000"></td>
            </tr>
            <tr>
                <td>UNKO掉落物品最大數量</td>
                <td translate="no">DropItemMaxNum_UNKO</td>
                <td><input type="number" id="DropItemMaxNum_UNKO" name="DropItemMaxNum_UNKO" value="100"></td>
            </tr>
            <tr>
                <td>基地營最大數量</td>
                <td translate="no">BaseCampMaxNum</td>
                <td><input type="number" id="BaseCampMaxNum" name="BaseCampMaxNum" value="128"></td>
            </tr>
            <tr>
                <td>基地營工作者最大數量</td>
                <td translate="no">BaseCampWorkerMaxNum</td>
                <td><input type="number" id="BaseCampWorkerMaxNum" name="BaseCampWorkerMaxNum" value="15"></td>
            </tr>
            <tr>
                <td>掉落物品存活最大時間</td>
                <td translate="no">DropItemAliveMaxHours</td>
                <td><input type="number" id="DropItemAliveMaxHours" name="DropItemAliveMaxHours" value="1.000000" step="0.1" min="0"></td>
            </tr>
            <tr>
                <td>自動重置公會沒有在線的玩家</td>
                <td translate="no">bAutoResetGuildNoOnlinePlayers</td>
                <td>
                    <select id="bAutoResetGuildNoOnlinePlayers" name="bAutoResetGuildNoOnlinePlayers">
                        <option value="True">True</option>
                        <option value="False" selected>False</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>沒有在線的玩家公會自動重置時間</td>
                <td translate="no">AutoResetGuildTimeNoOnlinePlayers</td>
                <td><input type="number" id="AutoResetGuildTimeNoOnlinePlayers" name="AutoResetGuildTimeNoOnlinePlayers" value="72.000000"></td>
            </tr>
            <tr>
                <td>公會玩家最大數量</td>
                <td translate="no">GuildPlayerMaxNum</td>
                <td><input type="number" id="GuildPlayerMaxNum" name="GuildPlayerMaxNum" value="20"></td>
            </tr>
            <tr>
                <td>Pal蛋預設孵化時間</td>
                <td translate="no">PalEggDefaultHatchingTime</td>
                <td><input type="number" id="PalEggDefaultHatchingTime" name="PalEggDefaultHatchingTime" value="72.000000"></td>
            </tr>
            <tr>
                <td>工作速度倍率</td>
                <td translate="no">WorkSpeedRate</td>
                <td><input type="number" id="WorkSpeedRate" name="WorkSpeedRate" value="1.000000" step="0.1" min="0"></td>
            </tr>
            <tr>
                <td>是否多人遊玩</td>
                <td translate="no">bIsMultiplay</td>
                <td>
                    <select id="bIsMultiplay" name="bIsMultiplay">
                        <option value="True">True</option>
                        <option value="False" selected>False</option>
                    </select>
                </td>
            </tr>
            <!-- 是否PvP -->
            <tr>
                <td>是否PvP</td>
                <td translate="no">bIsPvP</td>
                <td>
                    <select id="bIsPvP" name="bIsPvP">
                        <option value="True">True</option>
                        <option value="False" selected>False</option>
                    </select>
                </td>
            </tr>
            <!-- 能否撿取其他公會死亡處罰物品 -->
            <tr>
                <td>能否撿取其他公會死亡處罰物品</td>
                <td translate="no">bCanPickupOtherGuildDeathPenaltyDrop</td>
                <td>
                    <select id="bCanPickupOtherGuildDeathPenaltyDrop" name="bCanPickupOtherGuildDeathPenaltyDrop">
                        <option value="True">True</option>
                        <option value="False" selected>False</option>
                    </select>
                </td>
            </tr>
            <!-- 是否啟用非登入處罰 -->
            <tr>
                <td>是否啟用非登入處罰</td>
                <td translate="no">bEnableNonLoginPenalty</td>
                <td>
                    <select id="bEnableNonLoginPenalty" name="bEnableNonLoginPenalty">
                        <option value="True" selected>True</option>
                        <option value="False">False</option>
                    </select>
                </td>
            </tr>
            <!-- 是否啟用快速移動 -->
            <tr>
                <td>是否啟用快速移動</td>
                <td translate="no">bEnableFastTravel</td>
                <td>
                    <select id="bEnableFastTravel" name="bEnableFastTravel">
                        <option value="True" selected>True</option>
                        <option value="False">False</option>
                    </select>
                </td>
            </tr>
            <!-- 是否由地圖選擇起始位置 -->
            <tr>
                <td>是否由地圖選擇起始位置</td>
                <td translate="no">bIsStartLocationSelectByMap</td>
                <td>
                    <select id="bIsStartLocationSelectByMap" name="bIsStartLocationSelectByMap">
                        <option value="True" selected>True</option>
                        <option value="False">False</option>
                    </select>
                </td>
            </tr>
            <!-- 登出後是否保留玩家 -->
            <tr>
                <td>登出後是否保留玩家</td>
                <td translate="no">bExistPlayerAfterLogout</td>
                <td>
                    <select id="bExistPlayerAfterLogout" name="bExistPlayerAfterLogout">
                        <option value="True">True</option>
                        <option value="False" selected>False</option>
                    </select>
                </td>
            </tr>
            <!-- 是否啟用防禦其他公會玩家 -->
            <tr>
                <td>是否啟用防禦其他公會玩家</td>
                <td translate="no">bEnableDefenseOtherGuildPlayer</td>
                <td>
                    <select id="bEnableDefenseOtherGuildPlayer" name="bEnableDefenseOtherGuildPlayer">
                        <option value="True">True</option>
                        <option value="False" selected>False</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>合作玩家最大數量</td>
                <td translate="no">CoopPlayerMaxNum</td>
                <td><input type="number" id="CoopPlayerMaxNum" name="CoopPlayerMaxNum" value="4"></td>
            </tr>
            <tr>
                <td>伺服器玩家最大數量</td>
                <td translate="no">ServerPlayerMaxNum</td>
                <td><input type="number" id="ServerPlayerMaxNum" name="ServerPlayerMaxNum" value="32"></td>
            </tr>
            <tr>
                <td>伺服器名稱</td>
                <td translate="no">ServerName</td>
                <td><input type="text" id="ServerName" name="ServerName" value="Default Palworld Server"></td>
            </tr>
            <tr>
                <td>伺服器描述</td>
                <td translate="no">ServerDescription</td>
                <td><input type="text" id="ServerDescription" name="ServerDescription" value=""></td>
            </tr>
            <tr>
                <td>管理員密碼</td>
                <td translate="no">AdminPassword</td>
                <td><input type="text" id="AdminPassword" name="AdminPassword" value=""></td>
            </tr>
            <tr>
                <td>伺服器密碼</td>
                <td translate="no">ServerPassword</td>
                <td><input type="text" id="ServerPassword" name="ServerPassword" value=""></td>
            </tr>
            <tr>
                <td>公開連接埠</td>
                <td translate="no">PublicPort</td>
                <td><input type="text" id="PublicPort" name="PublicPort" value="8211"></td>
            </tr>
            <tr>
                <td>公開IP</td>
                <td translate="no">PublicIP</td>
                <td><input type="text" id="PublicIP" name="PublicIP" value=""></td>
            </tr>
            <tr>
                <td>RCON啟用</td>
                <td translate="no">RCONEnabled</td>
                <td>
                    <select id="RCONEnabled" name="RCONEnabled">
                        <option value="True">True</option>
                        <option value="False" selected>False</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>RCON連接埠</td>
                <td translate="no">RCONPort</td>
                <td><input type="text" id="RCONPort" name="RCONPort" value="25575"></td>
            </tr>
            <tr>
                <td>區域</td>
                <td translate="no">Region</td>
                <td><input type="text" id="Region" name="region" value=""></td>
            </tr>
            <tr>
                <td>是否使用身份驗證</td>
                <td translate="no">bUseAuth</td>
                <td>
                    <select id="bUseAuth" name="bUseAuth">
                        <option value="True" selected>True</option>
                        <option value="False">False</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>封鎖清單URL</td>
                <td translate="no">BanListURL</td>
                <td><input type="text" id="BanListURL" name="banListURL" value="https://api.Palworldgame.com/api/banlist.txt"></td>
            </tr>      
        </table>
    </form>
    </div>
    <footer>
        <p>© 2024 Web materials provided by Pocket Pair.</p>
    </footer>
    <script>
        // JavaScript 切換主題函數
        function toggleSnowMode() {
            // 取得容器元素
            var container = document.getElementById('container');
            // 切換 dark-mode 類別
            container.classList.toggle('snow-mode');
            
            // 取得 body 元素
            var body = document.body;
            // 切換 snow-mode 類別
            body.classList.toggle('snow-mode');
    
            // 取得超連結元素
            var links = document.querySelectorAll('.center-container a');
    
            // 檢查目前是否為白雪模式
            var isSnowMode = body.classList.contains('snow-mode');
    
            // 根據模式切換超連結樣式
            links.forEach(function(link) {
                link.style.color = isSnowMode ? 'black' : 'snow';
            });
        }
    </script>
    <script type="text/javascript">
      function googleTranslateElementInit() {
        new google.translate.TranslateElement({
        pageLanguage: 'TW-zh',
        includedLanguages: 'en,es,fr,de,it,pt,ru,zh-CN,ja,ko',
        AutoDisplay: false
        }, 'google_translate_element');
        }
    </script>

    <script>
        function parseConfig() {
            // 獲取配置文件文本
            var configText = document.getElementById("configField").value;

            // 提取()內的內容
            var regex = /\(([^)]+)\)/;
            var matches = regex.exec(configText);

            if (matches && matches.length > 1) {
                // 將()內的內容分割成行
                var configLines = matches[1].split(',');

                // 遍歷每一行
                configLines.forEach(function(line) {
                    // 分割每行的變數名稱和數值
                    var keyValue = line.split('=');

                    if (keyValue.length === 2) {
                        // 移除引號和空格
                        var key = keyValue[0].trim();
                        var value = keyValue[1].trim().replace(/["']/g, '');

                        // 找到對應的表單元素並設定值
                        var inputElement = document.getElementsByName(key)[0];
                        if (inputElement) {
                            inputElement.value = value;
                        }

                        // 列印找到的變數名稱和數值
                        console.log("Variable Name:", key, "Value:", value);
                        // alert("Function called!");

                    }
                });
                document.getElementById("configField").value = '';
            }
        }
    </script>
</body>
</html>
